<div class="container-80 top-gap padding">
	<form #equipeForm="ngForm">
		<mat-form-field>
			<input [(ngModel)]="equipe.nome" matInput placeholder="Nome" name="nome" required>
		</mat-form-field>
		<mat-form-field>
			<input [(ngModel)]="equipe.sigla" maxlength="4" matInput placeholder="Sigla" name="sigla" required>
			<mat-hint align="end">{{equipe.sigla.length}} / 4</mat-hint>
		</mat-form-field>
		<mat-form-field>
			<mat-select [(ngModel)]="equipe.tipo" placeholder="Tipo de Equipe" name="tipo" required>
				<mat-option *ngFor="let tipo of tiposDeEquipe" [value]="tipo">
					{{tipo.nome}}
				</mat-option>
			</mat-select>
		</mat-form-field>

		<div class="membros-container">
			<div class="label">Membros</div>
			<button class="add-button" mat-mini-fab (click)="onAddMemberClick()"><mat-icon>add</mat-icon></button>
			<table>
				<thead>
					<tr>
						<td>Nome</td>
						<td>E-mail</td>
						<td>Salário (R$)</td>
						<td>Líder</td>
						<td>Login</td>
						<td>Senha</td>
						<td>APP</td>
						<td>WEB</td>
						<td></td>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let m of equipe.membros; let i index">
						<td><input required [ngModelOptions]="{standalone: true}" [(ngModel)]="m.nome" type="text"></td>
						<td><input required [ngModelOptions]="{standalone: true}" [(ngModel)]="m.email" type="text"></td>
						<td><input [ngModelOptions]="{standalone: true}" [(ngModel)]="m.salario" type="number" step="0.01"></td>
						<td><mat-checkbox (click)="onLiderClick(m.id)" color="primary" [ngModelOptions]="{standalone: true}" [(ngModel)]="m.lider"></mat-checkbox></td>
						<td><input [required]="m.lider" [ngModelOptions]="{standalone: true}" [(ngModel)]="m.username" type="text" [disabled]="!m.lider"></td>
						<td><input [required]="m.lider" [ngModelOptions]="{standalone: true}" [(ngModel)]="m.senha" type="password" [disabled]="!m.lider"></td>
						<td><mat-checkbox color="primary" [ngModelOptions]="{standalone: true}" [(ngModel)]="m.acessoApp" [disabled]="!m.lider"></mat-checkbox></td>
						<td><mat-checkbox color="primary" [ngModelOptions]="{standalone: true}" [(ngModel)]="m.acessoWeb" [disabled]="!m.lider"></mat-checkbox></td>
						<td><button (click)="onRemoveButtonClick(i)" mat-icon-button><mat-icon>remove_circle</mat-icon></button></td>
					</tr>
				</tbody>
			</table>
		</div>
				
		<mat-checkbox [(ngModel)]="equipe.ativa" color="primary" name="ativa">Ativa</mat-checkbox>
			
		<div class="controles">
			<button mat-raised-button (click)="onCancelarClick()" color="accent">Cancelar</button>
			<span class="spacer"></span>
			<button mat-raised-button (click)="onSalvarClick()" color="primary" class="salvar" [disabled]="equipeForm.invalid">Salvar</button>
		</div>

	</form>
</div>