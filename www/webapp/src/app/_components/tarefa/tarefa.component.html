<div class="container container-80 top-gap">
	
	<div class="container-sse">
		<div class="controles-sse">
			<mat-form-field>
				<input matInput type="text" readonly placeholder="SSE Número" value="{{sse.numero}}">
			</mat-form-field>
			<button mat-icon-button><mat-icon>edit</mat-icon></button>
		</div>
		<agm-map
			[latitude]="sse?.lat"
			[longitude]="sse?.lng"
			[zoom]="12">

			<agm-marker
				[latitude]="sse?.lat"
				[longitude]="sse?.lng">
			</agm-marker>

			<agm-marker
				*ngFor="let s of ssesPendentes"
				iconUrl="assets/at_work_icon.svg"
				[latitude]="s?.lat"
				[longitude]="s?.lng">
			</agm-marker>
		</agm-map>
		
		<mat-form-field>
			<input matInput type="text" readonly placeholder="Endereço" [(ngModel)]="sse.endereco">
		</mat-form-field>
		<mat-form-field>
			<input matInput type="text" readonly placeholder="Solicitação" value="RG{{sse.tipoDeServicoPrev?.codigo}} - {{sse.tipoDeServicoPrev?.descricao}}">
		</mat-form-field>
		<mat-form-field>
			<input matInput type="text" readonly placeholder="Recebida em" value="{{sse.dh_recebido.toLocaleString()}}">
		</mat-form-field>
		<mat-form-field>
			<input matInput type="text" readonly placeholder="Prazo de Entrega" value="{{prazoDeEntrega.toLocaleString()}}">
		</mat-form-field>
	</div>

	<div class="container-tarefa">

		<div class="tempo-restante">
			<countdown [config]="{leftTime: tempoRestante}">$!d! <span>d</span> : $!h! <span>h</span> : $!m! <span>min</span></countdown>
			<div>restantes</div>
		</div>		

		<form #tarefaForm="ngForm">
			
			<mat-form-field>
				<mat-select required placeholder="Equipe" name="equipe" [(ngModel)]="tarefa.equipe" >
					<mat-option [value]="equipe" *ngFor="let equipe of equipes" >[{{equipe?.sigla}}] - {{equipe?.nome}}</mat-option>
				</mat-select>
			</mat-form-field>

			<mat-form-field>
				<mat-select placeholder="Equipe de Apoio" name="apoio" [(ngModel)]="tarefa.apoio">
					<mat-option [value]="null">Nenhuma equipe de apoio</mat-option>
					<mat-option [value]="apoio" *ngFor="let apoio of equipes" >[{{apoio.sigla}}] - {{apoio.nome}}</mat-option>
				</mat-select>
			</mat-form-field>

			<mat-form-field>
				<input
					matInput
					required
					type="datetime-local"
					name="inicio_p"
					[(ngModel)]="tarefa.inicio_p"
					placeholder="Início Previsto">
			</mat-form-field>

			<mat-form-field>
				<input
					matInput
					required
					type="datetime-local"
					name="final_p"
					[(ngModel)]="tarefa.final_p"
					placeholder="Final Previsto">
			</mat-form-field>

			<div class="controles">
				<button mat-raised-button color="accent">Cancelar</button>
				<button mat-raised-button color="primary" (click)="onSalvarTarefaClick()">Salvar</button>
			</div>

		</form>
	</div>
</div>